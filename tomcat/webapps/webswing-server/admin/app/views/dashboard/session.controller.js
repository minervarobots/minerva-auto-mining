(function(e){e([],function(){function t(e,t,n,r,i,s){function u(){return i.getSession(s.sessionId).then(function(e){n.cancel(o.timer),o.session=e,o.lastUpdated=new Date})}function a(){return u().then(function(){return o.timer=n(a,2e3),o.timer}).catch(function(){n.cancel(o.timer),o.timer=undefined})}function f(){var t={autoStart:!1,connectionUrl:e,clientId:o.session.id,applicationName:o.session.application,control:o.control,mirrorMode:!0};window.webswingadmin.scan(),window.webswingadmin.webswingmirrorview.disconnect(),window.webswingadmin.webswingmirrorview.configure(t),window.webswingadmin.webswingmirrorview.start()}function l(){return i.killSession(s.sessionId).then(function(){h()})}function c(){return i.forceKillSession(s.sessionId).then(function(){h()})}function h(){r.path("/dashboard/overview")}var o=this;o.session={},o.lastUpdated=null,o.back=h,o.refresh=a,o.kill=l,o.forceKill=c,o.timer=undefined,o.control=!1,u().then(f).then(a),t.$watch("vm.control",function(e){window.webswingadmin!=null&&window.webswingadmin.webswingmirrorview!=null&&e!=null&&window.webswingadmin.webswingmirrorview.setControl(e)}),t.$on("$destroy",function(){n.cancel(o.timer),window.webswingadmin.webswingmirrorview.disconnect()})}return t.$inject=["baseUrl","$scope","$timeout","$location","sessionsRestService","$routeParams"],t})})(adminConsole.define);
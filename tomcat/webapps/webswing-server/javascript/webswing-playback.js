webswingRequirejs.define(["jquery","text!templates/playback.html","text!templates/playback.css"],function(t,n,r){var i=t("<style></style>",{type:"text/css"});return i.text(r),t("head").prepend(i),function(){function s(e){if(i!=null&&e.playback!=null){e=e.playback;var t=parseInt(e.current/e.total*100,10);i.find(".webswing-playback-progress-bar").css("width",t+"%"),i.find('span[data-id="current"]').html(e.current),i.find('span[data-id="total"]').html(e.total)}}function o(){r.cfg.rootElement.append(n),i=r.cfg.rootElement.find('div[data-id="playbackBar"]'),i.find('button[data-id="reset"]').on("click",function(e){u("reset");var t=r.getCanvas().getContext("2d");t.clearRect(0,0,r.getCanvas().width,r.getCanvas().height)}),i.find('button[data-id="play"]').on("click",function(e){u("play")}),i.find('button[data-id="stop"]').on("click",function(e){u("stop")}),i.find('button[data-id="step"]').on("click",function(e){u("step")}),i.find('button[data-id="10step"]').on("click",function(e){u("step10")}),i.find('button[data-id="100step"]').on("click",function(e){u("step100")}),i.show()}function u(e){r.send({playback:{command:e}})}var t=this,r;t.injects=r={cfg:"webswing.config",send:"socket.send",getCanvas:"canvas.get"},t.provides={playbackInfo:s,showControls:o},t.ready=function(){r.cfg.recordingPlayback&&o()};var i}});
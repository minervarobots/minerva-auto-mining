(function(e){e(["text!common/login/login.template.html"],function(t){function n(){return{restrict:"E",replace:!0,scope:{},controllerAs:"vm",bindToController:!0,controller:r}}function r(e,n,r){function s(n,s){i.loginDialog!=null&&i.loginDialog.dismiss(),i.loginCallback=s,i.loginDialog=r.open({template:t,scope:e,backdrop:"static",keyboard:!1})}function o(e){event.keyCode===13&&u()}function u(){i.loginCallback!=null?i.loginCallback(i.formData).then(function(e){e.status===200?(i.loginErrorMsg=null,i.loginCallback=null,i.loginDialog.close()):e.status===403?(i.loginErrorMsg="This user is not authorized to use this application.",n.logout(!0)):e.status===401?i.loginErrorMsg="Authentication failed. User or password is not valid.":i.loginDialog="Unexpected result."}):n.login()}var i=this;i.formData={},i.loginDialog=null,i.loginErrorMsg=null,i.handleLoginEnter=o,i.login=u,e.$on("wsLoginRequestEvent",s)}return r.$inject=["$scope","loginService","$modal"],n})})(adminConsole.define);